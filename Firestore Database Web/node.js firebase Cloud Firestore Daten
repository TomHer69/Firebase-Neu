npm init -y
npm i firebase-admin
------------------------
b) Service Account Key besorgen

In der Firebase Console:
Projekt â†’ Einstellungen (Zahnrad) â†’ Dienstkonten â†’ Neues privates SchlÃ¼sselpaar generieren
Die JSON-Datei z.B. als serviceAccountKey.json in den Ordner legen.

Wichtig: Diese Datei nicht ins Git einchecken.

------------------------
const admin = require("firebase-admin");
const serviceAccount = require("./serviceAccountKey.json");

// Firebase Admin initialisieren
admin.initializeApp({
    credential: admin.credential.cert(serviceAccount),
});

const db = admin.firestore();

async function run() {
    try {
        // ====== WRITE: Dokument speichern ======
        const docRef = db.collection("users").doc("user_1");

        await docRef.set({
            name: "Max",
            age: 25,
            updatedAt: admin.firestore.FieldValue.serverTimestamp(),
        });

        console.log("âœ… Gespeichert: users/user_1");

        // ====== READ: Dokument lesen ======
        const snapshot = await docRef.get();

        if (!snapshot.exists) {
            console.log("âŒ Dokument existiert nicht");
            return;
        }

        console.log("ðŸ“„ Gelesen:", snapshot.id, snapshot.data());

        // ====== OPTIONAL: weitere Dokumente abfragen ======
        const querySnap = await db.collection("users").where("age", ">=", 18).get();
        console.log(`\nðŸ”Ž Query: users (age >= 18) â†’ ${querySnap.size} Treffer`);

        querySnap.forEach((doc) => {
            console.log("-", doc.id, doc.data());
        });
    } catch (err) {
        console.error("ðŸ”¥ Fehler:", err);
    }
}

run();
